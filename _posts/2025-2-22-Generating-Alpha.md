---
date: 2023-12-20 12:26:40
layout: post
title: "Alpha Generation"
subtitle: "Quantitative Edge: Building Alpha-Generating Trading Systems"
description: "Quantitative Edge: Building Alpha-Generating Trading Systems"
image: /assets/img/alpha.png
optimized_image: /assets/img/alpha.png
category: Quantitative Trading
tags:
  - Factor Analysis
  - Backtesting
  - Risk Analysis
  - Portfolio Optimization
author: Rachael
---

In this project, I dove into a deep exploration of quantitative trading strategies with a primary focus on alpha generation. The core of the project was to contrust a robust trading system that leverages advanced statistical models and machine learning techniques to uncover and exploit predictive signals in financial markets. This involved defininig a liquid universe of stocks, performinig intrincate factor analysis, and employing optimization algorithms to refine the trading strategies. 

The project workflow is comprised of these distinct stages:
1. Universe Data Collection
2. Alpha Factors
3. Factor Analysis
4. Factors Combination
5. Optimized Alpha Vector Portfolio
6. Risk Analysis


In this context, we have used different source of data provided from Sharadar and IFT as described below:
- Sharadar Equity Prices (SHARADAR/SEP): Updated daily EOD price data for more than 14,000 US public companies.
- Indicator Descriptions (SHARADAR/INDICATORS): Description of indicators listed in SF1 table for more than 14,000 US public companies.
- Tickers and Metadata (SHARADAR/TICKERS): Information and metadata for more than 14,000 US public companies.
- Core US Fundamentals (SHARADAR/SF1): 150 essential fundamental indicators and financial ratios, for more than 14,000 US public companies.
- Daily Metrics (SHARADAR/DAILY): 5 essential metrics indicators and financial ratios daily updated, for more than 14,000 US public companies.
- Sentiment Analysis and News Analytics (IFT/NSA): News, blogs, social media and proprietary sources for thousands of stocks. 



<h3 class="toc_title">1 - Universe Data Collection</h3>

<h4 class="toc_title">2 - 1: Benchmarking</h4>

The S&P 500 Index (Ticker: ^GSPC) is used as the benchmark to evaluate the performance of our trading strategy. 
- Purpose: To measure the alpha generated by the model relative to the market
- Metrics: Daily percentage change in closing prices

<h4 class="toc_title">2 - 2: Fundamental Data</h4>

SHARADAR/SF1 data is utilized for historical fundamental analysis, including:

- Source: Quandl (SHARADAR/SF1)
- Timeframe: Most Recent Quarter (MRQ)

<h4 class="toc_title">2 - 3: Daily Metrics</h4>

SHARADAR/DAILY data provides daily metrics for further factor analysis, including:

- OHLCV (Open, High, Low, Close, Volume)
- Daily Financial Ratios: Market Capitalization, EV/EBITDA, Price-to-Earnings (P/E), and more.


<h4 class="toc_title">2 - 4: Sentiment Analysis</h4>
IFT/NSA data is integrated to gauge market sentiment from:

- Sources: News, blogs, social media, and proprietary indicators.
- Metrics:
  - Overnight Sentiment (60 days)
  - Directional Movement (100 days)
 
This sentiment data is leveraged to capture market psychology, enhancing alpha generation by anticipating potential market movements.


<h3 class="toc_title">2 - Alpha Factors</h3>

Factor-driven alpha investment strategies, designed to delivering market-beating returns, come in a number of different forms. In this project, the following alpha factors are disccused:
1. **Daily Metrics** - Captures short-term price movements using daily financial ratios and market data.
2. **Simple Moving Average (SMA)** - Identifies trends by averaging closing prices over specified periods.
3. **Overnight Sentiment** - Analyzes sentiment from news and social media to anticipate market momentum.
4. **Mean Reversion** - Detects price extremes to capitalize on the tendency of prices to revert to the mean.
5. **Directional Movement** - Measures the strength and direction of price movements.
6. **Sentiment Analysis** - Incorporates broader market sentiment to enhance predictive accuracy.
7. **Volatility** - Assesses price fluctuations to adjust risk and position sizing.
8. **CAPM (Capital Asset Pricing Model)**: Evaluates systematic risk to adjust returns based on market movements.
9. **Fundamentals**: Integrates financial health indicators like Return on Equity (ROE) and Return on Assets (ROA)



<h3 class="toc_title">3 - All Factors Analysis</h3>

Now that we have preprocessed and regrouped our factor data, we can analyze each factor individually to assess its predictive power. The goal is to determine whether these factors can be effectively combined to enhance investment decision-making. 



<h4 class="toc_title">3 - 1: Cumulated factor return</h4>

With all factor scores calculated per asset, we compute the future returns over a specified holding period (10 days in this case). The forward returns represent the returns an investor would receive by holding an asset for the defined period. 

For each asset, the 10-day forward return is computed using the percentage change formula:
$$
\text{Forward Return} = \frac{\text{Price at }(t+10\text{ days}) - \text{Price at }(t)}{\text{Price at }(t)}
$$
Since we want to know today what the return will be over the next 10 days, we shift the date at the start of the 10 days, effectively treating the return as "forward-looking" from that date.

We then calculate the cumulated factor returns by computing the forward returns for each asset over the specified holding period. 


<h4 class="toc_title">3 - 2: Sharpe Ratio</h4>
To evaluate each factor's effectivess in a risk-adjusted manner, we calculate the Sharpe Ratio, which measures the excess return per unit of risk:

$$
\text{Sharpe Ratio} = \frac{\mathbb{E}[\text{Factor Returns}] \times \text{Annualization Factor}}{\sigma(\text{Factor Returns})}
$$

We calculate the mean of the ls_factor_returns which are the returns from a long-short factor based strategy; in which we perform factor investing whereby a long position is taken in stocks with favorable factor scores and a short position is taken in stocks with unfavorable factor scores.


![Screenshot 2025-03-03 at 8 39 52 AM](https://github.com/user-attachments/assets/e9b3aa5f-04ae-4a2f-a654-08f98a6f6dc5)

From the analysis, factors such as channels100days, direction100days, and capm10days exhibit strong risk-adjusted returns, making them valuable for strategy development. Conversely, daily_pb100days and sma200 perform poorly, indicating they may not be useful in this particular approach. 


<h3 class="toc_title">4 - Combined Factors</h3>

After computing the Sharpe Ratio, we select the most predictive factors. Rather than relying on individual factors, we use XGBoost to detremine the feature importance of each selected factor. The model is trained using closing prices and factor data to quantify how valuable each factor is in predicting asset returns. The XGBoost feature importance scores help adjust each factor's weighting, ensuring that more significant factors contribute more to the final composite signal. 

$$
\text{Weighted Factor} = \text{Feature Importance} \times \text{Factor Value}
$$

$$
\text{Alpha Vector} = \sum (\text{Weighted Factors})
$$


With the feature importance scores, we constuct a single composite signal - the alpha vector - which ranks assets based on their predicted performance. In an investment context, assets with higher alpha scores are expected to perform better than those with lower scores. 




<h3 class="toc_title">5 - Optimized Alpha Vector Portfolio Analysis</h3>


With the optimized alpha vector, we simulate the performance of a portfolio built using the factor values as asset weights. Since quantiles 1 and 5 are most predictive, we simulate a portfolio where only those quantiles are traded. 
- long positions in assets with high alpha scores
- short position in assets with low alpha scores

After backtesting, the optmized portfolio achieved the following key performance metrics:

<table>
    <tr>
        <th>Metric</th>
        <th>Value</th>
    </tr>
    <tr>
        <td>Annual Return</td>
        <td>4.1%</td>
    </tr>
    <tr>
        <td>Sharpe Ratio</td>
        <td>3.54</td>
    </tr>
    <tr>
        <td>Stability</td>
        <td>0.92</td>
    </tr>
    <tr>
        <td>Max Drawdown</td>
        <td>-1.1%</td>
    </tr>
</table>

The optimized alpha vector portfolio demonstrates that by combining multiple factors using machine learning, we can improve predictive accuracy, enhance returns, and reduce risk. 

![Screenshot 2025-03-03 at 8 57 38 AM](https://github.com/user-attachments/assets/17dce66c-8015-46d1-82be-06bca47d5a77)


